(this.webpackJsonpcontacthandler=this.webpackJsonpcontacthandler||[]).push([[0],{191:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),n=a(20),l=a.n(n),c=a(4),i=a.n(c),o=a(7),u=a(13),m=a(21),d=a(12),h=a(10),p=a(8),j=a.n(p),b=Object(r.createContext)(),v=Object(r.createContext)(),f=a(0),x=function(){var e=Object(r.useState)(),t=Object(u.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)(),l=Object(u.a)(n,2),c=l[0],m=l[1],d=Object(r.useContext)(v),h=Object(r.useContext)(b).headers,p=function(){var e=Object(o.a)(i.a.mark((function e(t){var r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(r=new FormData).append("app_name","contact_application_csc"),r.append("username",a),r.append("password",c),e.prev=5,e.next=8,j.a.post("/users/login",r,{headers:h});case 8:s=e.sent,d({type:"login",data:s.data}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),d({type:"flashMessage",value:"Incorrect username and password; try again!"});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{children:Object(f.jsx)("form",{onSubmit:p,className:"mb-0 pt-2 pt-md-0",children:Object(f.jsxs)("div",{className:"row align-items-center",children:[Object(f.jsx)("div",{className:"col-md mr-0 pr-md-0 mb-3 mb-md-0",children:Object(f.jsx)("input",{onChange:function(e){return s(e.target.value)},name:"username",className:"form-control form-control-sm input-dark",type:"text",placeholder:"Username",autoComplete:"off"})}),Object(f.jsx)("div",{className:"col-md mr-0 pr-md-0 mb-3 mb-md-0",children:Object(f.jsx)("input",{onChange:function(e){return m(e.target.value)},name:"password",className:"form-control form-control-sm input-dark",type:"password",placeholder:"Password"})}),Object(f.jsx)("div",{className:"col-md-auto",children:Object(f.jsx)("button",{className:"btn btn-success btn-sm",children:"Sign In"})})]})})})},g=function(){var e=Object(r.useContext)(v);Object(r.useContext)(b).user;return Object(f.jsxs)("div",{className:"flex-row my-3 my-md-0",children:[Object(f.jsx)(d.b,{className:"btn btn-sm btn-success mr-2",to:"/create-contact",children:"Create Contact"}),Object(f.jsx)("button",{onClick:function(){e({type:"logout"})},className:"btn btn-sm btn-secondary",children:"Sign Out"})]})},O=function(){var e=Object(r.useContext)(b).loggedIn;return Object(f.jsx)("header",{className:"header-bar bg-primary mb-3",children:Object(f.jsxs)("div",{className:"container d-flex flex-column flex-md-row align-items-center p-3",children:[Object(f.jsx)("h4",{className:"my-0 mr-md-auto font-weight-normal",children:Object(f.jsx)(d.b,{to:"/",className:"text-white",children:"Contact Handler App"})}),e?Object(f.jsx)(g,{}):Object(f.jsx)(x,{})]})})},y=a(193),_=function(e){var t=e.children,a=e.wide;return Object(f.jsx)("div",{className:"container py-md-5 ".concat(a?"":"container--narrow"),children:t})},w=function(e){var t=e.title,a=e.children,s=e.wide;return Object(r.useEffect)((function(){document.title="".concat(t," | Contact Handler"),window.scrollTo(0,0)}),[]),Object(f.jsx)(_,{wide:s,children:a})},N=function(){var e=Object(r.useContext)(v),t=Object(r.useContext)(b).headers,a=Object(m.a)((function(e,t){switch(t.type){case"nameImmediately":return e.name.hasErrors=!1,e.name.value=t.value,e.name.value.length>30&&(e.name.hasErrors=!0,e.name.message="Name cannot exceed 30 characters."),void(e.name.value&&!/^([a-zA-Z ]+)$/.test(e.name.value)&&(e.name.hasErrors=!0,e.name.message="Name can only contain letters."));case"nameAfterDelay":return void(e.name.value.length<2&&(e.name.hasErrors=!0,e.name.message="Name must be at least 2 characters."));case"usernameImmediately":return e.username.hasErrors=!1,e.username.value=t.value,e.username.value.length>30&&(e.username.hasErrors=!0,e.username.message="Name cannot exceed 30 characters."),void(e.username.value&&!/^([a-zA-Z0-9]+)$/.test(e.username.value)&&(e.username.hasErrors=!0,e.username.message="Username can only contain letters and numbers."));case"usernameAfterDelay":return e.username.value.length<3&&(e.username.hasErrors=!0,e.username.message="Username must be at least 3 characters."),void(e.hasErrors||t.noRequest||e.username.checkCount++);case"usernameUniqueResults":return void(t.value?(e.username.hasErrors=!0,e.username.isUnique=!1,e.username.message="This username is already taken."):e.username.isUnique=!0);case"emailImmediately":return e.email.hasErrors=!1,void(e.email.value=t.value);case"emailAfterDelay":return/^\S+@\S+$/.test(e.email.value)||(e.email.hasErrors=!0,e.email.message="You must provide a valid email address."),void(e.email.hasErrors||t.noRequest||e.email.checkCount++);case"emailUniqueResults":t.value?(e.email.hasErrors=!0,e.email.isUnique=!1,e.email.message="This email is already taken."):e.email.isUnique=!0;case"passwordImmediately":return e.password.hasErrors=!1,e.password.value=t.value,void(e.password.value.length>50&&(e.password.hasErrors=!0,e.password.message="Password cannot exceed 50 characters."));case"passwordAfterDelay":return e.password.value&&e.password.value.length<6&&(e.password.hasErrors=!0,e.password.message="Password must be at least 6 characters."),void(e.password.value||(e.password.hasErrors=!0,e.password.message="Password must be at least 6 characters."));case"submitForm":return void(e.name.hasErrors||e.username.hasErrors||!e.username.isUnique||e.email.hasErrors||!e.email.isUnique||e.password.hasErrors||e.submitCount++)}}),{name:{value:"",hasErrors:!1,message:""},username:{value:"",hasErrors:!1,message:"",isUnique:!1,checkCount:0},email:{value:"",hasErrors:!1,message:"",isUnique:!1,checkCount:0},password:{value:"",hasErrors:!1,message:""},submitCount:0}),s=Object(u.a)(a,2),n=s[0],l=s[1];Object(r.useEffect)((function(){if(n.name.value){var e=setTimeout((function(){return l({type:"nameAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[n.name.value]),Object(r.useEffect)((function(){if(n.username.value){var e=setTimeout((function(){return l({type:"usernameAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[n.username.value]),Object(r.useEffect)((function(){c()}),[n.username.checkCount]),Object(r.useEffect)((function(){if(n.email.value){var e=setTimeout((function(){return l({type:"emailAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[n.email.value]),Object(r.useEffect)((function(){d()}),[n.email.checkCount]),Object(r.useEffect)((function(){if(n.password.value){var e=setTimeout((function(){return l({type:"passwordAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[n.password.value]),Object(r.useEffect)((function(){n.submitCount&&h()}),[n.submitCount]);var c=function(){var e=Object(o.a)(i.a.mark((function e(){var a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/users/read-all",{headers:t});case 2:a=e.sent,r=a.data.data,s=[],r.map((function(e){return s.push(e.username)})),l({type:"usernameUniqueResults",value:s.includes(n.username.value)});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(i.a.mark((function e(){var a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/users/read-all",{headers:t});case 2:a=e.sent,r=a.data.data,s=[],r.map((function(e){return s.push(e.email)})),l({type:"emailUniqueResults",value:s.includes(n.email.value)});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var a=Object(o.a)(i.a.mark((function a(){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(r=new FormData).append("name",n.name.value),r.append("username",n.username.value),r.append("email",n.email.value),r.append("password",n.password.value),a.prev=5,a.next=8,j.a.post("/users/create",r,{headers:t});case 8:a.sent,e({type:"flashMessage",value:"Congrats! You can now login with your credentials."}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(5),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[5,12]])})));return function(){return a.apply(this,arguments)}}();return Object(f.jsx)(w,{wide:!0,title:"Welcome!",children:Object(f.jsxs)("div",{className:"row align-items-center",children:[Object(f.jsxs)("div",{className:"col-lg-7 py-3 py-md-5",children:[Object(f.jsx)("h1",{className:"display-3 smallerText",children:"Would you like to have you added in my public contact list?"}),Object(f.jsx)("p",{className:"lead text-muted",children:"In order to add your information into my public contact list, first you need to sign up via the registration form. Then, using the top bar login form, login to your account to see my contact list and to add your information."})]}),Object(f.jsx)("div",{className:"col-lg-5 pl-lg-5 pb-3 py-lg-5",children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l({type:"nameImmediately",value:n.name.value}),l({type:"nameAfterDelay",value:n.name.value}),l({type:"usernameImmediately",value:n.username.value}),l({type:"usernameAfterDelay",value:n.username.value,noRequest:!0}),l({type:"emailImmediately",value:n.email.value}),l({type:"emailAfterDelay",value:n.email.value,noRequest:!0}),l({type:"passwordImmediately",value:n.password.value}),l({type:"passwordAfterDelay",value:n.password.value}),l({type:"submitForm"}),window.scrollTo(0,0)},children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"name-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Name"})}),Object(f.jsx)("input",{onChange:function(e){return l({type:"nameImmediately",value:e.target.value})},id:"name-register",name:"name",className:"form-control",type:"text",placeholder:"Full Name",autoComplete:"off"}),Object(f.jsx)(y.a,{in:n.name.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0,children:Object(f.jsx)("div",{className:"alert alert-danger small liveValidateMessage",children:n.name.message})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"username-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Username"})}),Object(f.jsx)("input",{onChange:function(e){return l({type:"usernameImmediately",value:e.target.value})},id:"username-register",name:"username",className:"form-control",type:"text",placeholder:"Pick a username",autoComplete:"off"}),Object(f.jsx)(y.a,{in:n.username.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0,children:Object(f.jsx)("div",{className:"alert alert-danger small liveValidateMessage",children:n.username.message})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"email-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Email"})}),Object(f.jsx)("input",{onChange:function(e){return l({type:"emailImmediately",value:e.target.value})},id:"email-register",name:"email",className:"form-control",type:"text",placeholder:"you@example.com",autoComplete:"off"}),Object(f.jsx)(y.a,{in:n.email.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0,children:Object(f.jsx)("div",{className:"alert alert-danger small liveValidateMessage",children:n.email.message})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"password-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Password"})}),Object(f.jsx)("input",{onChange:function(e){return l({type:"passwordImmediately",value:e.target.value})},id:"password-register",name:"password",className:"form-control",type:"password",placeholder:"Create a password"}),Object(f.jsx)(y.a,{in:n.password.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0,children:Object(f.jsx)("div",{className:"alert alert-danger small liveValidateMessage",children:n.password.message})})]}),Object(f.jsx)("button",{type:"submit",className:"py-3 mt-4 btn btn-lg btn-success btn-block",children:"Sign up"})]})})]})})},I=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)(),l=Object(u.a)(n,2),c=l[0],m=l[1],h=Object(r.useState)(0),p=Object(u.a)(h,2),x=(p[0],p[1],Object(r.useContext)(v)),g=Object(r.useContext)(b),O=g.user,y=g.headers;Object(r.useEffect)((function(){_(),N()}),[]);var _=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/contacts/read-all",{headers:y});case 2:t=e.sent,t.data.data.map((function(e){parseInt(e.is_deleted)||s((function(t){return t.concat(e)}))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/users/read-all",{headers:y});case 2:t=e.sent,a=t.data.data,r=a.filter((function(e){return e.access_token==O.access_token})),m(r[0].id);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure to delete?")){e.next=13;break}return e.prev=2,e.next=5,j.a.post("/contacts/delete/".concat(t),[],{headers:y});case 5:e.sent,x({type:"flashMessage",value:"Your contact information has been successfully deleted!"}),s((function(e){return e.filter((function(e){return e.id!==t}))})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(w,{title:"Public List",children:[Object(f.jsxs)("h2",{className:"text-center",children:["Hi there!",Object(f.jsx)("br",{}),"Welcome to my public contact list page ."]}),Object(f.jsxs)("p",{className:"lead",children:["Below, you can see the list of all contacts. Please add your information to the contact list by clicking on ",Object(f.jsx)("strong",{children:"Create Contact"})," button. Afterwards, you can ",Object(f.jsx)("strong",{children:"update/delete"})," your contact information.",Object(f.jsx)("br",{}),"You can also ",Object(f.jsx)("strong",{children:"view"})," any of other contact informations. Notice that by clicking on the ",Object(f.jsx)("strong",{children:"view icon"})," you can see/print more detailed information about one contact."]}),Object(f.jsx)("ul",{className:"contact-list",children:a.map((function(e,t){return Object(f.jsxs)("li",{className:"contact-individual",children:[Object(f.jsxs)("span",{children:[e.first_name," ",e.last_name]}),c!==e.assigned_to?Object(f.jsx)("span",{children:Object(f.jsx)(d.b,{to:"/mycontacts/".concat(e.id),className:"contact-icon",children:Object(f.jsx)("button",{className:"viewButton",children:"View"})})}):Object(f.jsxs)("span",{children:[Object(f.jsx)(d.b,{to:"/editcontact/".concat(e.id),className:"contact-icon contact-icon--blue",children:Object(f.jsx)("i",{className:"fas fa-edit","aria-hidden":"true"})}),Object(f.jsx)(d.b,{onClick:function(){return I(e.id)},to:"#",className:"contact-icon contact-icon--red",children:Object(f.jsx)("i",{className:"fa fa-trash","aria-hidden":"true"})}),Object(f.jsx)(d.b,{to:"/mycontacts/".concat(e.id),className:"contact-icon",children:Object(f.jsx)("button",{className:"viewButton",children:"View"})})]})]},t)}))})]})},C=function(){return Object(f.jsxs)("footer",{className:"border-top text-center small text-muted py-3",children:[Object(f.jsxs)("p",{children:[Object(f.jsx)(d.b,{to:"/",className:"mx-1",children:"Home"}),"|",Object(f.jsx)(d.b,{className:"mx-1",to:"/about-app",children:"About App"}),"|",Object(f.jsx)(d.b,{className:"mx-1",to:"/thanks",children:"Thank You Page"})]}),Object(f.jsxs)("p",{className:"m-0",children:["Copyright \xa9 2020 ",Object(f.jsx)("a",{href:"/",className:"text-muted",children:"Powered by Mohammad Mohajer"}),". All rights reserved."]})]})},E=function(){return Object(f.jsxs)(w,{title:"About App",children:[Object(f.jsx)("h2",{children:"About App"}),Object(f.jsx)("p",{className:"lead text-muted",children:"This is a single page application (SPA) created to let admin user manage his contac lists. Subscribers can register to this app to add their contact information visible in public. Moreover, Subscribers can Update/Delete their created contact informations"}),Object(f.jsx)("h2",{children:"Technical Aspects"}),Object(f.jsx)("p",{children:"React, one of the most popular libraries of Java Script is used to develop the front end of this application, while StormAPI is usedfor the purpose of back end development. Some important features of this app are written as follows:"}),Object(f.jsxs)("ol",{className:"aboutList",children:[Object(f.jsx)("li",{children:"It has client-side layer of security, not only to ignore special characters in our forms, but also to prevent users register with a unique username and email."}),Object(f.jsx)("li",{children:"It has a beautifully designed flash messages informing users if there are some problems in their input values."}),Object(f.jsx)("li",{children:"This app is fully responsive and is well designed to be viewed by different devices."}),Object(f.jsx)("li",{children:"Subscribed users have ability to perform CRUD operations about their contact information. Moreover, they can view/print other user's contact information."}),Object(f.jsx)("li",{children:"The code is written in a very clean and clear way. All components are written using function based react components and React useContex Hooks is used to manage states."}),Object(f.jsx)("li",{children:"use-immer package is used to have better and more organised way for managing react states."})]})]})},D=function(){return Object(f.jsxs)(w,{title:"Thank You",children:[Object(f.jsx)("p",{children:"Dear Hiring Managers of Canada Startup Company:"}),Object(f.jsx)("p",{children:"It was a pleasure to provide me with an opportunity to show my skills by performing this assignment. I would like to take this opportunity to express my appreciation for the information you offered about your company's needs. Since our conversation with Andrew Behr my enthusiasm for the Full Stack Developer role position and my interest in working for Canada Startup Company has increased. With my passion for web development, extensive project-based experience, and solid technical proficiency, as well as on my capacity for leadership and team-oriented success, I am confident that the role we discussed will be an excellent fit for me."}),Object(f.jsx)("p",{children:"I would be really like to further discuss this opportunity and please feel free to contact me for any additional information you may need. I look forward the opportunity to meet with you and I am excited at the prospect of joining your team."}),Object(f.jsx)("p",{children:"Sincerely"}),Object(f.jsx)("p",{children:"Mohammad Mohajer"})]})},k=a(22),S=a.n(k),F=(a(53),Object(h.g)((function(e){var t=e.history,a=Object(r.useContext)(v),s=Object(r.useContext)(b),n=s.headers,l=s.user,c={first_name:{value:"",hasErrors:!1,message:""},last_name:{value:"",hasErrors:!1,message:""},org_name:{value:""},email:{value:"",hasErrors:!1,message:""},birth_date:{value:new Date},report_to:{value:"-1"},start_date:{value:new Date},end_date:{value:new Date},sla:{value:""},tweeter:{value:""},address:{value:""},p_lan:{value:"1"},email_receive:{value:!1},phone_call:{value:!1},photo_file:"",submitCount:0,currentId:""},d=Object(r.useState)([]),h=Object(u.a)(d,2),p=h[0],x=h[1],g=Object(m.a)((function(e,t){switch(t.type){case"fnameImmediately":return e.first_name.hasErrors=!1,e.first_name.value=t.value,e.first_name.value.length>30&&(e.first_name.hasErrors=!0,e.first_name.message="First name cannot exceed 30 characters."),void(e.first_name.value&&!/^([a-zA-Z ]+)$/.test(e.first_name.value)&&(e.first_name.hasErrors=!0,e.first_name.message="First name can only contain letters."));case"fnameAfterDelay":return void(e.first_name.value.length<2&&(e.first_name.hasErrors=!0,e.first_name.message="First name must be at least 2 characters."));case"lnameImmediately":return e.last_name.hasErrors=!1,e.last_name.value=t.value,e.last_name.value.length>30&&(e.last_name.hasErrors=!0,e.last_name.message="Last name cannot exceed 30 characters."),void(e.last_name.value&&!/^([a-zA-Z ]+)$/.test(e.last_name.value)&&(e.last_name.hasErrors=!0,e.last_name.message="Last name can only contain letters."));case"lnameAfterDelay":return void(e.last_name.value.length<2&&(e.last_name.hasErrors=!0,e.last_name.message="Last name must be at least 2 characters."));case"onameImmediately":return void(e.org_name.value=t.value);case"emailImmediately":return e.email.hasErrors=!1,void(e.email.value=t.value);case"emailAfterDelay":return void(/^\S+@\S+$/.test(e.email.value)||(e.email.hasErrors=!0,e.email.message="You must provide a valid email address."));case"birthDateImmediately":return void(e.birth_date.value=t.value);case"reportToImmediately":return void(e.report_to.value=t.value);case"startDateImmediately":return void(e.start_date.value=t.value);case"endDateImmediately":return void(e.end_date.value=t.value);case"slaImmediately":return void(e.sla.value=t.value);case"tweeterImmediately":return void(e.tweeter.value=t.value);case"addressImmediately":return void(e.address.value=t.value);case"pLanImmediately":return void(e.p_lan.value=t.value);case"emailRecieveImmediately":return void(e.email_receive.value=t.value);case"phoneCallImmediately":return void(e.phone_call.value=t.value);case"photoFileImmediately":return void(e.photo_file=t.value);case"currentIdFinder":return void(e.currentId=t.value);case"submitForm":e.first_name.hasErrors||e.last_name.hasErrors||e.email.hasErrors||e.submitCount++}}),c),O=Object(u.a)(g,2),_=O[0],N=O[1];Object(r.useEffect)((function(){I(),C()}),[]),Object(r.useEffect)((function(){if(_.first_name.value){var e=setTimeout((function(){return N({type:"fnameAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[_.first_name.value]),Object(r.useEffect)((function(){if(_.last_name.value){var e=setTimeout((function(){return N({type:"lnameAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[_.last_name.value]),Object(r.useEffect)((function(){if(_.email.value){var e=setTimeout((function(){return N({type:"emailAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[_.email.value]),Object(r.useEffect)((function(){_.submitCount&&E()}),[_.submitCount]);var I=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/contacts/read-all",{headers:n});case 3:t=e.sent,a=t.data.data,[],a.map((function(e){var t=e.id,a=e.first_name,r=e.last_name,s=e.is_deleted;if(!Boolean(parseInt(s)))return x((function(e){return e.concat({id:t,first_name:a,last_name:r})}))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/users/read-all",{headers:n});case 2:t=e.sent,a=t.data.data,r=a.filter((function(e){return e.access_token==l.access_token})),N({type:"currentIdFinder",value:r[0].id});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("first_name",_.first_name.value),r.append("last_name",_.last_name.value),r.append("organization_name",_.org_name.value),r.append("primary_email",_.email.value),r.append("date_of_birth",D(_.birth_date.value)),r.append("reports_to",parseInt(_.report_to.value)),r.append("do_not_call",k(_.phone_call.value)),r.append("email_opt_out",k(_.email_receive.value)),r.append("assigned_to",_.currentId),r.append("support_start_date",D(_.start_date.value)),r.append("support_end_date",D(_.end_date.value)),r.append("sla_name",_.sla.value),r.append("tweeter_username",_.tweeter.value),r.append("address_details",_.address.value),r.append("profile_picture",_.photo_file),r.append("language",parseInt(_.p_lan.value)),e.prev=17,e.next=20,j.a.post("/contacts/create",r,{headers:n});case 20:e.sent,a({type:"flashMessage",value:"Congrats! Your contact has been added!"}),t.push("/"),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(17),console.log(e.t0);case 28:case"end":return e.stop()}}),e,null,[[17,25]])})));return function(){return e.apply(this,arguments)}}(),D=function(e){var t=new Date(e),a=""+(t.getMonth()+1),r=""+t.getDate(),s=t.getFullYear();return a.length<2&&(a="0"+a),r.length<2&&(r="0"+r),[s,a,r].join("-")},k=function(e){return e?1:0};return Object(f.jsx)(w,{title:"Create New Contact",children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N({type:"fnameImmediately",value:_.first_name.value}),N({type:"fnameAfterDelay",value:_.first_name.value}),N({type:"lnameImmediately",value:_.last_name.value}),N({type:"lnameAfterDelay",value:_.last_name.value}),N({type:"emailImmediately",value:_.email.value}),N({type:"emailAfterDelay",value:_.email.value}),N({type:"submitForm"}),window.scrollTo(0,0)},children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"fname-register",className:"text-muted mb-1 required",children:Object(f.jsx)("small",{children:"First Name"})}),Object(f.jsx)("input",{onChange:function(e){return N({type:"fnameImmediately",value:e.target.value})},id:"fname-register",name:"name",className:"form-control",type:"text",placeholder:"Your first name",autoComplete:"off"}),Object(f.jsx)(y.a,{in:_.first_name.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0,children:Object(f.jsx)("div",{className:"alert alert-danger small liveValidateMessage",children:_.first_name.message})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"lname-register",className:"text-muted mb-1 required",children:Object(f.jsx)("small",{children:"Last Name"})}),Object(f.jsx)("input",{onChange:function(e){return N({type:"lnameImmediately",value:e.target.value})},id:"lname-register",name:"name",className:"form-control",type:"text",placeholder:"Your last name",autoComplete:"off"}),Object(f.jsx)(y.a,{in:_.last_name.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0,children:Object(f.jsx)("div",{className:"alert alert-danger small liveValidateMessage",children:_.last_name.message})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"oname-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Organization Name"})}),Object(f.jsx)("input",{onChange:function(e){return N({type:"onameImmediately",value:e.target.value})},id:"oname-register",name:"name",className:"form-control",type:"text",placeholder:"Your organization name",autoComplete:"off"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"email-register",className:"text-muted mb-1 required",children:Object(f.jsx)("small",{children:"Email"})}),Object(f.jsx)("input",{onChange:function(e){return N({type:"emailImmediately",value:e.target.value})},id:"email-register",name:"name",className:"form-control",type:"text",placeholder:"Your primary email address",autoComplete:"off"}),Object(f.jsx)(y.a,{in:_.email.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0,children:Object(f.jsx)("div",{className:"alert alert-danger small liveValidateMessage",children:_.email.message})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"text-muted mb-1 required",children:Object(f.jsx)("small",{children:"Birth Date"})}),Object(f.jsx)("div",{className:"form-group",children:Object(f.jsx)(S.a,{selected:_.birth_date.value,onChange:function(e){return N({type:"birthDateImmediately",value:e})},dropdownMode:"select",showMonthDropdown:!0,showYearDropdown:!0,adjustDateOnChange:!0})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"reports-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"To whom contact would you like to report?"})}),Object(f.jsxs)("select",{onChange:function(e){return N({type:"reportToImmediately",value:e.target.value})},id:"reports-register",name:"name",className:"form-control",value:_.report_to.value,children:[Object(f.jsx)("option",{value:"-1",children:" Choose a contact "}),p.length?p.map((function(e){var t=e.id,a=e.first_name,r=e.last_name;return Object(f.jsxs)("option",{value:"".concat(t),children:[" ",a," ",r," "]},t)})):Object(f.jsx)("option",{value:"-2",children:" No contacts yet! "})]})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Support Start Date?"})}),Object(f.jsx)("div",{className:"form-group",children:Object(f.jsx)(S.a,{selected:_.start_date.value,onChange:function(e){return N({type:"startDateImmediately",value:e})},dropdownMode:"select",showMonthDropdown:!0,showYearDropdown:!0,adjustDateOnChange:!0})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Support End Date"})}),Object(f.jsx)("div",{className:"form-group",children:Object(f.jsx)(S.a,{selected:_.end_date.value,onChange:function(e){return N({type:"endDateImmediately",value:e})},dropdownMode:"select",showMonthDropdown:!0,showYearDropdown:!0,adjustDateOnChange:!0})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"sla-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Related SLA"})}),Object(f.jsx)("input",{onChange:function(e){return N({type:"slaImmediately",value:e.target.value})},id:"sla-register",name:"name",className:"form-control",type:"text",placeholder:"SLA",autoComplete:"off"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"tweeter-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Tweeter Username"})}),Object(f.jsx)("input",{onChange:function(e){return N({type:"tweeterImmediately",value:e.target.value})},id:"tweeter-register",name:"name",className:"form-control",type:"text",placeholder:"Your tweeter username",autoComplete:"off"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"address-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Address"})}),Object(f.jsx)("input",{onChange:function(e){return N({type:"addressImmediately",value:e.target.value})},id:"oname-register",name:"name",className:"form-control",type:"text",placeholder:"Your address",autoComplete:"off"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"reports-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"What is your preferred language?"})}),Object(f.jsxs)("select",{onChange:function(e){return N({type:"pLanImmediately",value:e.target.value})},id:"reports-register",name:"name",className:"form-control",value:_.p_lan.value,children:[Object(f.jsx)("option",{value:"1",children:" English "}),Object(f.jsx)("option",{value:"2",children:" French "})]})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"text-muted mb-1 photo-label",children:"Profile Photo"}),Object(f.jsx)("input",{onChange:function(e){return N({type:"photoFileImmediately",value:e.target.files[0].name})},type:"file",multiple:!0,accept:"images/*"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("input",{onChange:function(e){return N({type:"emailRecieveImmediately",value:e.target.checked})},type:"checkbox",id:"receive-email",name:"receive-email",className:"form-checkbox"}),Object(f.jsx)("label",{htmlFor:"receive-email",className:"checkbox-label",children:Object(f.jsx)("small",{children:"Receive emails from us?"})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("input",{onChange:function(e){return N({type:"phoneCallImmediately",value:e.target.checked})},type:"checkbox",id:"phone-call",name:"phone-call",className:"form-checkbox"}),Object(f.jsx)("label",{htmlFor:"phone-call",className:"checkbox-label",children:Object(f.jsx)("small",{children:"Receive phone calls from us?"})})]}),Object(f.jsx)("button",{type:"submit",className:"py-3 mt-4 btn btn-lg btn-success btn-block",children:"Add Information"})]})})}))),A=a(76),T=a.n(A),M=a(77),U=a(78),Y=a(82),L=a(81),R=a(79),q=a.n(R),P=a(80),V=a.n(P),z={fname:"",lname:"",oname:"",email:"",birthDate:"",repTo:"",recEmail:"",phoneCall:"",startDate:"",endDate:"",sla:"",tweeterUsername:"",photo:"",pLan:"",md5Hash:"",assignedUsername:""},B=function(e){Object(Y.a)(a,e);var t=Object(L.a)(a);function a(e){var r;return Object(M.a)(this,a),(r=t.call(this,e)).state=z,r}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.getContact()}},{key:"getCurrentUser",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var a,r,s,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.headers,e.next=3,j.a.get("/users/read-all",{headers:a});case 3:r=e.sent,s=r.data.data,n=s.filter((function(e){return e.id===t})),this.setState({assignedUsername:n[0].username});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getContact",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.id,a=this.props.headers,e.next=4,j.a.get("/contacts/read/".concat(t),{headers:a});case 4:r=e.sent,this.setState({fname:r.data.data.first_name}),this.setState({lname:r.data.data.last_name}),this.setState({oname:r.data.data.organization_name}),this.setState({email:r.data.data.primary_email}),this.setState({birthDate:r.data.data.date_of_birth}),r.data.data.reports_to>0?this.repContactFinder(r.data.data.reports_to):this.setState({repTo:"No Contacts yet!"}),1===parseInt(r.data.data.email_opt_out)?this.setState({recEmail:"Yes"}):this.setState({recEmail:"No"}),1===parseInt(r.data.data.do_not_call)?this.setState({phoneCall:"Yes"}):this.setState({phoneCall:"No"}),this.setState({startDate:r.data.data.support_start_date}),this.setState({endDate:r.data.data.support_end_date}),this.setState({tweeterUsername:r.data.data.tweeter_username}),this.setState({address:r.data.data.address_details}),this.setState({photo:r.data.data.profile_picture}),1===parseInt(r.data.data.language)?this.setState({pLan:"English"}):this.setState({pLan:"French"}),s=q()(r.data.data.id),this.setState({md5Hash:s}),this.getCurrentUser(r.data.data.assigned_to),this.setState({sla:r.data.data.sla_name});case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"repContactFinder",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.headers,e.next=3,j.a.get("/contacts/read/".concat(t),{headers:a});case 3:r=e.sent,this.setState({repTo:"".concat(r.data.data.first_name," ").concat(r.data.data.last_name)});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("table",{children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"First Name"}),Object(f.jsx)("td",{children:this.state.fname})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Last Name"}),Object(f.jsx)("td",{children:this.state.lname})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Assigned Username"}),Object(f.jsx)("td",{children:this.state.assignedUsername})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Organization Name"}),Object(f.jsx)("td",{children:this.state.oname})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Email"}),Object(f.jsx)("td",{children:this.state.email})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Birth Date"}),Object(f.jsx)("td",{children:this.state.birthDate})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Reports to"}),Object(f.jsx)("td",{children:this.state.repTo})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Receive email from us?"}),Object(f.jsx)("td",{children:this.state.recEmail})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Receive call from us?"}),Object(f.jsx)("td",{children:this.state.phoneCall})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Start Date"}),Object(f.jsx)("td",{children:this.state.startDate})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"End Date"}),Object(f.jsx)("td",{children:this.state.endDate})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"SLA"}),Object(f.jsx)("td",{children:this.state.sla})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Tweeter Username"}),Object(f.jsx)("td",{children:this.state.tweeterUsername})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Address"}),Object(f.jsx)("td",{children:this.state.address})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Preferred Language"}),Object(f.jsx)("td",{children:this.state.pLan})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Profile Photo"}),Object(f.jsx)("td",{children:this.state.photo})]})]})}),Object(f.jsx)("div",{className:"hashCode",children:Object(f.jsx)(V.a,{value:"".concat(this.state.md5Hash)})})]})}}]),a}(r.Component),H=function(){var e=Object(r.useRef)(),t=Object(r.useContext)(b).headers,a=Object(h.f)().id;return Object(f.jsxs)(w,{title:"Detailed Info",children:[Object(f.jsx)(B,{ref:e,headers:t,id:a}),Object(f.jsx)(T.a,{trigger:function(){return Object(f.jsx)("button",{type:"submit",className:"py-3 mt-4 btn btn-lg btn-success btn-block",children:"Print Information"})},content:function(){return e.current}})]})},$=function(e){var t=e.messages;return Object(f.jsx)("div",{className:"floating-alerts",children:t.map((function(e,t){return Object(f.jsx)("div",{className:"alert alert-success text-center floating-alert shadow-sm",children:e},t)}))})},W=Object(h.g)((function(e){var t=e.history,a=Object(r.useContext)(v),s=Object(r.useContext)(b),n=s.headers,l=s.user,c=Object(h.f)().contactId,d={first_name:{value:"",hasErrors:!1,message:""},last_name:{value:"",hasErrors:!1,message:""},org_name:{value:""},email:{value:"",hasErrors:!1,message:""},birth_date:{value:new Date},report_to:{value:"-1"},start_date:{value:new Date},end_date:{value:new Date},sla:{value:""},tweeter:{value:""},address:{value:""},p_lan:{value:"1"},email_receive:{value:!1},phone_call:{value:!1},photo_file:"",submitCount:0,currentId:""},p=Object(r.useState)([]),x=Object(u.a)(p,2),g=x[0],O=x[1],_=Object(m.a)((function(e,t){switch(t.type){case"fnameImmediately":return e.first_name.hasErrors=!1,e.first_name.value=t.value,e.first_name.value.length>30&&(e.first_name.hasErrors=!0,e.first_name.message="First name cannot exceed 30 characters."),void(e.first_name.value&&!/^([a-zA-Z ]+)$/.test(e.first_name.value)&&(e.first_name.hasErrors=!0,e.first_name.message="First name can only contain letters."));case"fnameAfterDelay":return void(e.first_name.value.length<2&&(e.first_name.hasErrors=!0,e.first_name.message="First name must be at least 2 characters."));case"lnameImmediately":return e.last_name.hasErrors=!1,e.last_name.value=t.value,e.last_name.value.length>30&&(e.last_name.hasErrors=!0,e.last_name.message="Last name cannot exceed 30 characters."),void(e.last_name.value&&!/^([a-zA-Z ]+)$/.test(e.last_name.value)&&(e.last_name.hasErrors=!0,e.last_name.message="Last name can only contain letters."));case"lnameAfterDelay":return void(e.last_name.value.length<2&&(e.last_name.hasErrors=!0,e.last_name.message="Last name must be at least 2 characters."));case"onameImmediately":return void(e.org_name.value=t.value);case"emailImmediately":return e.email.hasErrors=!1,void(e.email.value=t.value);case"emailAfterDelay":return void(/^\S+@\S+$/.test(e.email.value)||(e.email.hasErrors=!0,e.email.message="You must provide a valid email address."));case"birthDateImmediately":return void(e.birth_date.value=t.value);case"reportToImmediately":return void(e.report_to.value=t.value);case"startDateImmediately":return void(e.start_date.value=t.value);case"endDateImmediately":return void(e.end_date.value=t.value);case"slaImmediately":return void(e.sla.value=t.value);case"tweeterImmediately":return void(e.tweeter.value=t.value);case"addressImmediately":return void(e.address.value=t.value);case"pLanImmediately":return void(e.p_lan.value=t.value);case"emailRecieveImmediately":return void(e.email_receive.value=t.value);case"phoneCallImmediately":return void(e.phone_call.value=t.value);case"photoFileImmediately":return void(e.photo_file=t.value);case"currentIdFinder":return void(e.currentId=t.value);case"submitForm":e.first_name.hasErrors||e.last_name.hasErrors||e.email.hasErrors||e.submitCount++}}),d),N=Object(u.a)(_,2),I=N[0],C=N[1];Object(r.useEffect)((function(){E(),D(),T()}),[]),Object(r.useEffect)((function(){if(I.first_name.value){var e=setTimeout((function(){return C({type:"fnameAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[I.first_name.value]),Object(r.useEffect)((function(){if(I.last_name.value){var e=setTimeout((function(){return C({type:"lnameAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[I.last_name.value]),Object(r.useEffect)((function(){if(I.email.value){var e=setTimeout((function(){return C({type:"emailAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[I.email.value]),Object(r.useEffect)((function(){I.submitCount&&k()}),[I.submitCount]);var E=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/contacts/read-all",{headers:n});case 3:t=e.sent,a=t.data.data,[],a.map((function(e){var t=e.id,a=e.first_name,r=e.last_name,s=e.is_deleted;if(!Boolean(parseInt(s)))return O((function(e){return e.concat({id:t,first_name:a,last_name:r})}))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/users/read-all",{headers:n});case 2:t=e.sent,a=t.data.data,r=a.filter((function(e){return e.access_token==l.access_token})),C({type:"currentIdFinder",value:r[0].id});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",c),r.append("first_name",I.first_name.value),r.append("last_name",I.last_name.value),r.append("organization_name",I.org_name.value),r.append("primary_email",I.email.value),r.append("date_of_birth",F(I.birth_date.value)),r.append("reports_to",parseInt(I.report_to.value)),r.append("do_not_call",A(I.phone_call.value)),r.append("email_opt_out",A(I.email_receive.value)),r.append("assigned_to",I.currentId),r.append("support_start_date",F(I.start_date.value)),r.append("support_end_date",F(I.end_date.value)),r.append("sla_name",I.sla.value),r.append("tweeter_username",I.tweeter.value),r.append("address_details",I.address.value),r.append("profile_picture",I.photo_file),r.append("language",parseInt(I.p_lan.value)),e.prev=18,e.next=21,j.a.post("/contacts/update/".concat(c),r,{headers:n});case 21:e.sent,a({type:"flashMessage",value:"Congrats! Your contact has been successfully updated!"}),t.push("/"),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(18),console.log(e.t0);case 29:case"end":return e.stop()}}),e,null,[[18,26]])})));return function(){return e.apply(this,arguments)}}(),F=function(e){var t=new Date(e),a=""+(t.getMonth()+1),r=""+t.getDate(),s=t.getFullYear();return a.length<2&&(a="0"+a),r.length<2&&(r="0"+r),[s,a,r].join("-")},A=function(e){return e?1:0},T=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/contacts/read/".concat(c),{headers:n});case 2:t=e.sent,C({type:"fnameImmediately",value:t.data.data.first_name}),C({type:"lnameImmediately",value:t.data.data.last_name}),C({type:"onameImmediately",value:t.data.data.organization_name}),C({type:"emailImmediately",value:t.data.data.primary_email}),C({type:"birthDateImmediately",value:new Date(t.data.data.date_of_birth)}),C({type:"reportToImmediately",value:t.data.data.reports_to}),C({type:"startDateImmediately",value:new Date(t.data.data.support_start_date)}),C({type:"startEndImmediately",value:new Date(t.data.data.support_end_date)}),C({type:"slaImmediately",value:t.data.data.sla_name}),C({type:"tweeterImmediately",value:t.data.data.tweeter_username}),C({type:"addressImmediately",value:t.data.data.address_details}),C({type:"pLanImmediately",value:t.data.data.language}),C({type:"photoFileImmediately",value:t.data.data.profile_picture}),C({type:"emailRecieveImmediately",value:Boolean(parseInt(t.data.data.email_opt_out))}),C({type:"phoneCallImmediately",value:Boolean(parseInt(t.data.data.do_not_call))});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(w,{title:"Update Info",children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),C({type:"fnameImmediately",value:I.first_name.value}),C({type:"fnameAfterDelay",value:I.first_name.value}),C({type:"lnameImmediately",value:I.last_name.value}),C({type:"lnameAfterDelay",value:I.last_name.value}),C({type:"emailImmediately",value:I.email.value}),C({type:"emailAfterDelay",value:I.email.value}),C({type:"submitForm"}),window.scrollTo(0,0)},children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"fname-register",className:"text-muted mb-1 required",children:Object(f.jsx)("small",{children:"First Name"})}),Object(f.jsx)("input",{onChange:function(e){return C({type:"fnameImmediately",value:e.target.value})},id:"fname-register",name:"name",className:"form-control",type:"text",placeholder:"Your first name",autoComplete:"off",value:I.first_name.value}),Object(f.jsx)(y.a,{in:I.first_name.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0,children:Object(f.jsx)("div",{className:"alert alert-danger small liveValidateMessage",children:I.first_name.message})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"lname-register",className:"text-muted mb-1 required",children:Object(f.jsx)("small",{children:"Last Name"})}),Object(f.jsx)("input",{onChange:function(e){return C({type:"lnameImmediately",value:e.target.value})},id:"lname-register",name:"name",className:"form-control",type:"text",placeholder:"Your last name",autoComplete:"off",value:I.last_name.value}),Object(f.jsx)(y.a,{in:I.last_name.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0,children:Object(f.jsx)("div",{className:"alert alert-danger small liveValidateMessage",children:I.last_name.message})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"oname-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Organization Name"})}),Object(f.jsx)("input",{onChange:function(e){return C({type:"onameImmediately",value:e.target.value})},id:"oname-register",name:"name",className:"form-control",type:"text",placeholder:"Your organization name",autoComplete:"off",value:I.org_name.value})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"email-register",className:"text-muted mb-1 required",children:Object(f.jsx)("small",{children:"Email"})}),Object(f.jsx)("input",{onChange:function(e){return C({type:"emailImmediately",value:e.target.value})},id:"email-register",name:"name",className:"form-control",type:"text",placeholder:"Your primary email address",autoComplete:"off",value:I.email.value}),Object(f.jsx)(y.a,{in:I.email.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0,children:Object(f.jsx)("div",{className:"alert alert-danger small liveValidateMessage",children:I.email.message})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"text-muted mb-1 required",children:Object(f.jsx)("small",{children:"Birth Date"})}),Object(f.jsx)("div",{className:"form-group",children:Object(f.jsx)(S.a,{selected:I.birth_date.value,onChange:function(e){return C({type:"birthDateImmediately",value:e})},dropdownMode:"select",showMonthDropdown:!0,showYearDropdown:!0,adjustDateOnChange:!0})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"reports-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"To whom contact would you like to report?"})}),Object(f.jsxs)("select",{onChange:function(e){return C({type:"reportToImmediately",value:e.target.value})},id:"reports-register",name:"name",className:"form-control",value:I.report_to.value,children:[Object(f.jsx)("option",{value:"-1",children:" Choose a contact "}),g.length?g.map((function(e){var t=e.id,a=e.first_name,r=e.last_name;return Object(f.jsxs)("option",{value:"".concat(t),children:[" ",a," ",r," "]},t)})):Object(f.jsx)("option",{value:"-2",children:" No contacts yet! "})]})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Support Start Date?"})}),Object(f.jsx)("div",{className:"form-group",children:Object(f.jsx)(S.a,{selected:I.start_date.value,onChange:function(e){return C({type:"startDateImmediately",value:e})},dropdownMode:"select",showMonthDropdown:!0,showYearDropdown:!0,adjustDateOnChange:!0})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Support End Date"})}),Object(f.jsx)("div",{className:"form-group",children:Object(f.jsx)(S.a,{selected:I.end_date.value,onChange:function(e){return C({type:"endDateImmediately",value:e})},dropdownMode:"select",showMonthDropdown:!0,showYearDropdown:!0,adjustDateOnChange:!0})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"sla-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Related SLA"})}),Object(f.jsx)("input",{onChange:function(e){return C({type:"slaImmediately",value:e.target.value})},id:"sla-register",name:"name",className:"form-control",type:"text",placeholder:"SLA",autoComplete:"off",value:I.sla.value})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"tweeter-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Tweeter Username"})}),Object(f.jsx)("input",{onChange:function(e){return C({type:"tweeterImmediately",value:e.target.value})},id:"tweeter-register",name:"name",className:"form-control",type:"text",placeholder:"Your tweeter username",autoComplete:"off",value:I.tweeter.value})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"address-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"Address"})}),Object(f.jsx)("input",{onChange:function(e){return C({type:"addressImmediately",value:e.target.value})},id:"oname-register",name:"name",className:"form-control",type:"text",placeholder:"Your address",autoComplete:"off",value:I.address.value})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"reports-register",className:"text-muted mb-1",children:Object(f.jsx)("small",{children:"What is your preferred language?"})}),Object(f.jsxs)("select",{onChange:function(e){return C({type:"pLanImmediately",value:e.target.value})},id:"reports-register",name:"name",className:"form-control",value:I.p_lan.value,children:[Object(f.jsx)("option",{value:"1",children:" English "}),Object(f.jsx)("option",{value:"2",children:" French "})]})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"text-muted mb-1 photo-label",children:"Profile Photo"}),Object(f.jsx)("input",{onChange:function(e){return C({type:"photoFileImmediately",value:e.target.files[0].name})},type:"file",multiple:!0,accept:"images/*"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("input",{onChange:function(e){return C({type:"emailRecieveImmediately",value:e.target.checked})},type:"checkbox",id:"receive-email",name:"receive-email",className:"form-checkbox",checked:!!I.email_receive.value}),Object(f.jsx)("label",{htmlFor:"receive-email",className:"checkbox-label",children:Object(f.jsx)("small",{children:"Receive emails from us?"})})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("input",{onChange:function(e){return C({type:"phoneCallImmediately",value:e.target.checked})},type:"checkbox",id:"phone-call",name:"phone-call",className:"form-checkbox",checked:!!I.phone_call.value}),Object(f.jsx)("label",{htmlFor:"phone-call",className:"checkbox-label",children:Object(f.jsx)("small",{children:"Receive phone calls from us?"})})]}),Object(f.jsx)("button",{type:"submit",className:"py-3 mt-4 btn btn-lg btn-success btn-block",children:"Update Information"})]})})})),Z=function(){var e={loggedIn:Boolean(localStorage.getItem("appToken")),flashMessages:[],user:{access_token:localStorage.getItem("appToken")},headers:{"Content-Type":"multipart/form-data",Authorization:localStorage.getItem("adminAppToken")}},t=Object(m.a)((function(e,t){switch(t.type){case"login":e.loggedIn=!0,e.user=t.data.data;break;case"logout":e.loggedIn=!1;break;case"flashMessage":e.flashMessages.push(t.value);break;case"adminLogin":e.headers.Authorization=t.value}}),e),a=Object(u.a)(t,2),s=a[0],n=a[1];Object(r.useEffect)((function(){s.loggedIn?localStorage.setItem("appToken",s.user.access_token):localStorage.removeItem("appToken")}),[s.loggedIn]),Object(r.useEffect)((function(){if(localStorage.getItem("adminAppToken")){var e=localStorage.getItem("adminAppToken");n({type:"adminLogin",value:e})}else l()}),[s.headers]);var l=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("app_name","contact_application_csc"),t.append("username","mmmohajer70"),t.append("password","Pass4ContactApplication"),e.prev=4,e.next=7,j.a.post("/users/login",t);case 7:a=e.sent,r="Bearer ".concat(a.data.data.access_token),localStorage.setItem("adminAppToken",r),n({type:"adminLogin",value:r}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(b.Provider,{value:s,children:Object(f.jsx)(v.Provider,{value:n,children:Object(f.jsxs)(d.a,{children:[Object(f.jsx)($,{messages:s.flashMessages}),Object(f.jsx)(O,{}),Object(f.jsxs)(h.c,{children:[Object(f.jsx)(h.a,{path:"/",exact:!0,children:s.loggedIn?Object(f.jsx)(I,{}):Object(f.jsx)(N,{})}),Object(f.jsx)(h.a,{path:"/create-contact",children:Object(f.jsx)(F,{})}),Object(f.jsx)(h.a,{path:"/mycontacts/:id",children:Object(f.jsx)(H,{})}),Object(f.jsx)(h.a,{path:"/editcontact/:contactId",children:Object(f.jsx)(W,{})}),Object(f.jsx)(h.a,{path:"/about-app",children:Object(f.jsx)(E,{})}),Object(f.jsx)(h.a,{path:"/thanks",children:Object(f.jsx)(D,{})})]}),Object(f.jsx)(C,{})]})})})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,194)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,l=t.getTTFB;a(e),r(e),s(e),n(e),l(e)}))};l.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(Z,{})}),document.getElementById("root")),J()}},[[191,1,2]]]);
//# sourceMappingURL=main.3b603127.chunk.js.map